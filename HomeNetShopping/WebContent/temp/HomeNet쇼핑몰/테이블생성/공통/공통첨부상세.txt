/* 공통첨부상세 */
CREATE TABLE TB_ATTACH_DESC_INFO (
    APND_FILE_NO NUMBER(10) NOT NULL, /* 첨부파일번호 */
    APND_FILE_SN NUMBER(3) NOT NULL, /* 첨부파일순번 */
    APND_FILE_NM VARCHAR2(200), /* 첨부파일명 */
    APND_FILE_SAVE_NM VARCHAR2(200), /* 첨부파일저장명 */
    APND_FILE_SIZE NUMBER(10), /* 첨부파일크기 */
    WRT_PN_NO NUMBER(10) NOT NULL, /* 작성자번호 */
    WRT_PN_IP VARCHAR2(20) NOT NULL, /* 작성자IP */
    WRT_DTTM VARCHAR2(14) NOT NULL, /* 작성일시 */
    UPDT_PN_NO NUMBER(10) NOT NULL, /* 수정자번호 */
    UPDT_PN_IP VARCHAR2(20) NOT NULL, /* 수정자IP */
    UPDT_DTTM VARCHAR2(14) NOT NULL /* 수정일시 */
);

COMMENT ON TABLE TB_ATTACH_DESC_INFO IS '공통첨부상세';

COMMENT ON COLUMN TB_ATTACH_DESC_INFO.APND_FILE_NO IS '첨부파일번호';

COMMENT ON COLUMN TB_ATTACH_DESC_INFO.APND_FILE_SN IS '첨부파일순번';

COMMENT ON COLUMN TB_ATTACH_DESC_INFO.APND_FILE_NM IS '첨부파일명';

COMMENT ON COLUMN TB_ATTACH_DESC_INFO.APND_FILE_SAVE_NM IS '첨부파일저장명';

COMMENT ON COLUMN TB_ATTACH_DESC_INFO.APND_FILE_SIZE IS '첨부파일크기';

COMMENT ON COLUMN TB_ATTACH_DESC_INFO.WRT_PN_NO IS '등록자ID';

COMMENT ON COLUMN TB_ATTACH_DESC_INFO.WRT_PN_IP IS '작성자IP';

COMMENT ON COLUMN TB_ATTACH_DESC_INFO.WRT_DTTM IS '등록일시';

COMMENT ON COLUMN TB_ATTACH_DESC_INFO.UPDT_PN_NO IS '수정자ID';

COMMENT ON COLUMN TB_ATTACH_DESC_INFO.UPDT_PN_IP IS '수정자IP';

COMMENT ON COLUMN TB_ATTACH_DESC_INFO.UPDT_DTTM IS '수정일시';

CREATE UNIQUE INDEX TB_ATTACH_DESC_INFO_PK
    ON TB_ATTACH_DESC_INFO (
        APND_FILE_NO ASC,
        APND_FILE_SN ASC
    );

CREATE INDEX TB_ATTACH_DESC_INFO_FK1
    ON TB_ATTACH_DESC_INFO (
        APND_FILE_NO ASC
    );

ALTER TABLE TB_ATTACH_DESC_INFO
    ADD
        CONSTRAINT TB_ATTACH_DESC_INFO_PK
        PRIMARY KEY (
            APND_FILE_NO,
            APND_FILE_SN
        );

ALTER TABLE TB_ATTACH_DESC_INFO
    ADD
        CONSTRAINT TB_ATTACH_DESC_INFO_FK1
        FOREIGN KEY (
            APND_FILE_NO
        )
        REFERENCES TB_ATTACH_BASE (
            APND_FILE_NO
        );