/* 사용자전화번호 */
DROP TABLE TB_USER_TEL 
	CASCADE CONSTRAINTS;

/* 사용자전화번호 */
CREATE TABLE TB_USER_TEL (
	USER_NO NUMBER(10) NOT NULL, /* 사용자번호 */
	TLNO_DV_CD VARCHAR2(10) NOT NULL, /* 전화번호구분코드 */
	NATN_CD VARCHAR2(10), /* 국가코드 */
	FST_TLNO VARCHAR2(4), /* FIRST전화번호 */
	SCND_TLNO VARCHAR2(4), /* SECOND전화번호 */
	THRD_TLNO VARCHAR2(4), /* THIRD전화번호 */
	ETNS_TLNO VARCHAR2(4) /* 내선전화번호 */
);

COMMENT ON TABLE TB_USER_TEL IS '사용자전화번호';

COMMENT ON COLUMN TB_USER_TEL.USER_NO IS '사용자번호';

COMMENT ON COLUMN TB_USER_TEL.TLNO_DV_CD IS '전화번호구분코드';

COMMENT ON COLUMN TB_USER_TEL.NATN_CD IS '국가코드';

COMMENT ON COLUMN TB_USER_TEL.FST_TLNO IS 'FIRST전화번호';

COMMENT ON COLUMN TB_USER_TEL.SCND_TLNO IS 'SECOND전화번호';

COMMENT ON COLUMN TB_USER_TEL.THRD_TLNO IS 'THIRD전화번호';

COMMENT ON COLUMN TB_USER_TEL.ETNS_TLNO IS '내선전화번호';

CREATE UNIQUE INDEX TB_USER_TEL_PK
	ON TB_USER_TEL (
		USER_NO ASC,
		TLNO_DV_CD ASC
	);

CREATE UNIQUE INDEX TB_USER_TEL_FK1
	ON TB_USER_TEL (
		USER_NO ASC
	);

ALTER TABLE TB_USER_TEL
	ADD
		CONSTRAINT TB_USER_TEL_PK
		PRIMARY KEY (
			USER_NO,
			TLNO_DV_CD
		);

ALTER TABLE TB_USER_TEL
	ADD
		CONSTRAINT TB_USER_TEL_FK1
		FOREIGN KEY (
			USER_NO
		)
		REFERENCES TB_USER (
			USER_NO
		);