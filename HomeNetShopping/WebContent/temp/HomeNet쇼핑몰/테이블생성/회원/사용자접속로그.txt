/* 사용자접속로그 */
DROP TABLE TB_USER_CONN_LOG 
	CASCADE CONSTRAINTS;

/* 사용자접속로그 */
CREATE TABLE TB_USER_CONN_LOG (
	USER_NO NUMBER(10) NOT NULL, /* 사용자번호 */
	CNNT_LOG_NO NUMBER(10) NOT NULL, /* 접속로그번호 */
	MBL_YN VARCHAR2(1) NOT NULL, /* 모바일여부 */
	CNNT_Y VARCHAR2(4) NOT NULL, /* 접속년도 */
	CNNT_M VARCHAR2(2) NOT NULL, /* 접속월 */
	CNNT_D VARCHAR2(2) NOT NULL, /* 접속일 */
	CNNT_TMHH VARCHAR2(2) NOT NULL, /* 접속시각시 */
	CNNT_DTTM DATE NOT NULL, /* 접속일시 */
	CNIP VARCHAR2(20), /* 접속자IP */
	CNNT_INFO VARCHAR2(4000), /* 접속정보 */
	OS_CD VARCHAR2(10) /* 운영체제코드 */
);

COMMENT ON TABLE TB_USER_CONN_LOG IS '사용자접속로그';

COMMENT ON COLUMN TB_USER_CONN_LOG.USER_NO IS '사용자번호';

COMMENT ON COLUMN TB_USER_CONN_LOG.CNNT_LOG_NO IS '접속로그번호';

COMMENT ON COLUMN TB_USER_CONN_LOG.MBL_YN IS '모바일여부';

COMMENT ON COLUMN TB_USER_CONN_LOG.CNNT_Y IS '접속년도';

COMMENT ON COLUMN TB_USER_CONN_LOG.CNNT_M IS '접속월';

COMMENT ON COLUMN TB_USER_CONN_LOG.CNNT_D IS '접속일';

COMMENT ON COLUMN TB_USER_CONN_LOG.CNNT_TMHH IS '접속시각시';

COMMENT ON COLUMN TB_USER_CONN_LOG.CNNT_DTTM IS '접속일시';

COMMENT ON COLUMN TB_USER_CONN_LOG.CNIP IS '접속자IP';

COMMENT ON COLUMN TB_USER_CONN_LOG.CNNT_INFO IS '접속정보';

COMMENT ON COLUMN TB_USER_CONN_LOG.OS_CD IS '운영체제코드';

CREATE UNIQUE INDEX TB_USER_CONN_LOG_PK
	ON TB_USER_CONN_LOG (
		USER_NO ASC,
		CNNT_LOG_NO ASC,
		MBL_YN ASC
	);

ALTER TABLE TB_USER_CONN_LOG
	ADD
		CONSTRAINT TB_USER_CONN_LOG_PK
		PRIMARY KEY (
			USER_NO,
			CNNT_LOG_NO,
			MBL_YN
		);