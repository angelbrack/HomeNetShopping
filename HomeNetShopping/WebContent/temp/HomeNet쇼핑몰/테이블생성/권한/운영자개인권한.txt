/* 운영자개인권한 */
CREATE TABLE TB_OPTR_PRSN_AUTH (
    USER_NO NUMBER(10) NOT NULL, /* 사용자번호 */
    OPTR_AUTH_NO NUMBER(10) NOT NULL, /* 운영자권한번호 */
    WRT_PN_NO NUMBER(10) NOT NULL, /* 작성자번호 */
    WRT_PN_IP VARCHAR2(20) NOT NULL, /* 작성자IP */
    WRT_DTTM VARCHAR2(14) NOT NULL, /* 작성일시 */
    UPDT_PN_NO NUMBER(10) NOT NULL, /* 수정자번호 */
    UPDT_PN_IP VARCHAR2(20) NOT NULL, /* 수정자IP */
    UPDT_DTTM VARCHAR2(14) NOT NULL /* 수정일시 */
);

COMMENT ON TABLE TB_OPTR_PRSN_AUTH IS '운영자개인권한';

COMMENT ON COLUMN TB_OPTR_PRSN_AUTH.USER_NO IS '사용자번호';

COMMENT ON COLUMN TB_OPTR_PRSN_AUTH.OPTR_AUTH_NO IS '운영자권한번호';

COMMENT ON COLUMN TB_OPTR_PRSN_AUTH.WRT_PN_NO IS '작성자번호';

COMMENT ON COLUMN TB_OPTR_PRSN_AUTH.WRT_PN_IP IS '작성자IP';

COMMENT ON COLUMN TB_OPTR_PRSN_AUTH.WRT_DTTM IS '작성일시';

COMMENT ON COLUMN TB_OPTR_PRSN_AUTH.UPDT_PN_NO IS '수정자번호';

COMMENT ON COLUMN TB_OPTR_PRSN_AUTH.UPDT_PN_IP IS '수정자IP';

COMMENT ON COLUMN TB_OPTR_PRSN_AUTH.UPDT_DTTM IS '수정일시';

CREATE UNIQUE INDEX TB_OPTR_PRSN_AUTH_PK
    ON TB_OPTR_PRSN_AUTH (
        USER_NO ASC,
        OPTR_AUTH_NO ASC
    );

CREATE INDEX TB_OPTR_PRSN_AUTH_FK1
    ON TB_OPTR_PRSN_AUTH (
        USER_NO ASC
    );

CREATE INDEX TB_OPTR_PRSN_AUTH_FK2
    ON TB_OPTR_PRSN_AUTH (
        OPTR_AUTH_NO ASC
    );

ALTER TABLE TB_OPTR_PRSN_AUTH
    ADD
        CONSTRAINT TB_OPTR_PRSN_AUTH_PK
        PRIMARY KEY (
            USER_NO,
            OPTR_AUTH_NO
        );

ALTER TABLE TB_OPTR_PRSN_AUTH
    ADD
        CONSTRAINT TB_OPTR_PRSN_AUTH_FK1
        FOREIGN KEY (
            USER_NO
        )
        REFERENCES TB_USER (
            USER_NO
        );

ALTER TABLE TB_OPTR_PRSN_AUTH
    ADD
        CONSTRAINT TB_OPTR_PRSN_AUTH_FK2
        FOREIGN KEY (
            OPTR_AUTH_NO
        )
        REFERENCES TB_OPTR_AUTH (
            OPTR_AUTH_NO
        );