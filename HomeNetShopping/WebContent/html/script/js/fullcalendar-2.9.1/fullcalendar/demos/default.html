<!DOCTYPE html>
<html>
<head>
<meta charset='utf-8' />
<link href='../fullcalendar.css' rel='stylesheet' />
<link href='../fullcalendar.print.css' rel='stylesheet' media='print' />
<script src='../lib/moment.min.js'></script>
<script src='../lib/jquery.min.js'></script>
<script src='../fullcalendar.min.js'></script>
<script src='../lang-all.js'></script>
<script>

	$(document).ready(function() {

		$('#calendar').fullCalendar({
			defaultDate: '2016-04-09',
			editable: true,
			lang : "ko",
	    eventClick: function(date,calEvent, jsEvent, view) {
	    	//이벤트 적용 시 사용
	    	console.log(date._id);
	    },			
			events: [
				{
					id: 1,
					title: '111111',
					start: '2016-04-01'//,
					//end: '2016-04-20'
					, imageurl : "./images/bender.png"
				},
				{
					id: 1,
					title: '111111',
					start: '2016-04-01'//,
					//end: '2016-04-20'
					, imageurl : "./images/bender.png"
				},
				{
					id: 1,
					title: '11111112312312sdfgkljserlgknsdlrkgnlegnlskdnfglsenrglksnerlknselkgnr',
					start: '2016-04-01'//,
					//end: '2016-04-20'
					, imageurl : "./images/bender.png"
				},
				{
					id: 1,
					title: '111111',
					start: '2016-04-01'//,
					//end: '2016-04-20'
					, imageurl : "./images/bender.png"
				},
				{
					id: 1,
					title: '111111',
					start: '2016-04-01'//,
					//end: '2016-04-20'
					, imageurl : "./images/bender.png"
				},
				{
					id: 1,
					title: '111111',
					start: '2016-04-01'//,
					//end: '2016-04-20'
					, imageurl : "./images/bender.png"
				},
				{
					id: 1,
					title: '111111',
					start: '2016-04-01'//,
					//end: '2016-04-20'
					, imageurl : "./images/bender.png"
				},
								
				{
					id: 1,
					title: 'Repeating Event1111',
					start: '2016-04-02'//,
					//end: '2016-04-20'
				},				
				{
					id: 2,
					title: 'Repeating Event2222',
					start: '2016-04-05',
					end: '2016-05-20'
				},
				{
					id: 3,
					title: 'Repeating Event3333',
					start: '2016-04-01',
					end: '2016-04-27'
				},
			],
      eventRender:function(event, eventElement) {
          if(event.imageurl) {
              eventElement.find("span.fc-title").prepend("<img src='" + event.imageurl + "'>");
          }
      }

		});

      // 왼쪽 버튼을 클릭하였을 경우
      jQuery("button.fc-prev-button").click(function() {
          var date = jQuery("#calendar").fullCalendar("getDate");
          convertDate(date);
      });

      // 오른쪽 버튼을 클릭하였을 경우
      jQuery("button.fc-next-button").click(function() {
          var date = jQuery("#calendar").fullCalendar("getDate");
          convertDate(date);
      });
		
	});

// 받은 날짜값을 date 형태로 형변환 해주어야 한다.
    function convertDate(date) {
        var date = new Date(date);
        alert(date.yyyymmdd());
    }

    // 받은 날짜값을 YYYY-MM-DD 형태로 출력하기위한 함수.
    Date.prototype.yyyymmdd = function() {
        var yyyy = this.getFullYear().toString();
        var mm = (this.getMonth() + 1).toString();
        var dd = this.getDate().toString();
        return yyyy + "-" + (mm[1] ? mm : "0" + mm[0]) + "-" + (dd[1] ? dd : "0" + dd[0]);
    }
</script>
<style>

	body {
		margin: 40px 10px;
		padding: 0;
		font-family: "Lucida Grande",Helvetica,Arial,Verdana,sans-serif;
		font-size: 14px;
	}

	#calendar {
		max-width: 900px;
		margin: 0 auto;
	}

</style>
</head>
<body>

	<div id="calendar"></div>

</body>
</html>
